
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Relatório Final</title>
  <!-- Carrega o Chart.js a partir do CDN -->
  <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
  <style>
    body {
      background-color: #f9f9f9;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    /* Mosaico: container flex com quebra de linha */
    #chartsContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .chart-container {
      width: calc(50% - 20px);
      border: 1px solid #ddd;
      padding: 10px;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    }
    .chart-container h2 {
      text-align: center;
    }
    .info-box {
      margin-top: 10px;
      padding: 10px;
      background-color: #eee;
      border: 1px solid #ccc;
      display: none;
      white-space: pre-wrap; /* preserva as quebras de linha */
    }
  </style>
</head>
<body>
  <div id='chartsContainer'></div>
  <script>
    // Array de gráficos gerado no servidor
    var charts = [{"title": "M = 10 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [184, 172, 174, 178, 167, 174, 163, 176, 174, 170], "tooltips": ["NumberOfMachines: 10\nR: 1,5\nNumberOfTasks: 31\nVariance: 39\nOptimumMakeSpan: 161\nInstanceTotalMakeSpan: 184\nOptimumMinusMakeSpan: 23\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 31\nVariance: 34\nOptimumMakeSpan: 154\nInstanceTotalMakeSpan: 172\nOptimumMinusMakeSpan: 17\nMaxTime: 1\nMinTime: 0\nAvgTime: 0,2", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 31\nVariance: 38\nOptimumMakeSpan: 155\nInstanceTotalMakeSpan: 174\nOptimumMinusMakeSpan: 19\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 31\nVariance: 41\nOptimumMakeSpan: 158\nInstanceTotalMakeSpan: 178\nOptimumMinusMakeSpan: 19\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 31\nVariance: 33\nOptimumMakeSpan: 149\nInstanceTotalMakeSpan: 167\nOptimumMinusMakeSpan: 17\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 31\nVariance: 39\nOptimumMakeSpan: 156\nInstanceTotalMakeSpan: 174\nOptimumMinusMakeSpan: 18\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 31\nVariance: 31\nOptimumMakeSpan: 146\nInstanceTotalMakeSpan: 163\nOptimumMinusMakeSpan: 16\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 31\nVariance: 42\nOptimumMakeSpan: 158\nInstanceTotalMakeSpan: 176\nOptimumMinusMakeSpan: 18\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 31\nVariance: 40\nOptimumMakeSpan: 155\nInstanceTotalMakeSpan: 174\nOptimumMinusMakeSpan: 18\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 31\nVariance: 40\nOptimumMakeSpan: 151\nInstanceTotalMakeSpan: 170\nOptimumMinusMakeSpan: 19\nMaxTime: 0\nMinTime: 0\nAvgTime: 0"]}, {"title": "M = 10 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [519, 510, 519, 523, 502, 511, 511, 493, 507, 507], "tooltips": ["NumberOfMachines: 10\nR: 2\nNumberOfTasks: 100\nVariance: 33\nOptimumMakeSpan: 504\nInstanceTotalMakeSpan: 519\nOptimumMinusMakeSpan: 14\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 10\nR: 2\nAlpha: 0,1\nNumberOfTasks: 100\nVariance: 33\nOptimumMakeSpan: 495\nInstanceTotalMakeSpan: 510\nOptimumMinusMakeSpan: 14\nMaxTime: 3\nMinTime: 2\nAvgTime: 2,6", "NumberOfMachines: 10\nR: 2\nAlpha: 0,2\nNumberOfTasks: 100\nVariance: 32\nOptimumMakeSpan: 507\nInstanceTotalMakeSpan: 519\nOptimumMinusMakeSpan: 12\nMaxTime: 1\nMinTime: 0\nAvgTime: 0,2", "NumberOfMachines: 10\nR: 2\nAlpha: 0,3\nNumberOfTasks: 100\nVariance: 34\nOptimumMakeSpan: 509\nInstanceTotalMakeSpan: 523\nOptimumMinusMakeSpan: 13\nMaxTime: 1\nMinTime: 0\nAvgTime: 0,3", "NumberOfMachines: 10\nR: 2\nAlpha: 0,4\nNumberOfTasks: 100\nVariance: 30\nOptimumMakeSpan: 489\nInstanceTotalMakeSpan: 502\nOptimumMinusMakeSpan: 13\nMaxTime: 1\nMinTime: 0\nAvgTime: 0,9", "NumberOfMachines: 10\nR: 2\nAlpha: 0,5\nNumberOfTasks: 100\nVariance: 35\nOptimumMakeSpan: 496\nInstanceTotalMakeSpan: 511\nOptimumMinusMakeSpan: 15\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 10\nR: 2\nAlpha: 0,6\nNumberOfTasks: 100\nVariance: 29\nOptimumMakeSpan: 498\nInstanceTotalMakeSpan: 511\nOptimumMinusMakeSpan: 13\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 10\nR: 2\nAlpha: 0,7\nNumberOfTasks: 100\nVariance: 32\nOptimumMakeSpan: 479\nInstanceTotalMakeSpan: 493\nOptimumMinusMakeSpan: 14\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 10\nR: 2\nAlpha: 0,8\nNumberOfTasks: 100\nVariance: 30\nOptimumMakeSpan: 493\nInstanceTotalMakeSpan: 507\nOptimumMinusMakeSpan: 13\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 10\nR: 2\nAlpha: 0,9\nNumberOfTasks: 100\nVariance: 33\nOptimumMakeSpan: 495\nInstanceTotalMakeSpan: 507\nOptimumMinusMakeSpan: 12\nMaxTime: 1\nMinTime: 1\nAvgTime: 1"]}, {"title": "M = 20 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [233, 237, 243, 220, 232, 232, 237, 232, 239, 230], "tooltips": ["NumberOfMachines: 20\nR: 1,5\nNumberOfTasks: 89\nVariance: 27\nOptimumMakeSpan: 222\nInstanceTotalMakeSpan: 233\nOptimumMinusMakeSpan: 10\nMaxTime: 0\nMinTime: 0\nAvgTime: 0", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 89\nVariance: 28\nOptimumMakeSpan: 224\nInstanceTotalMakeSpan: 237\nOptimumMinusMakeSpan: 12\nMaxTime: 3\nMinTime: 2\nAvgTime: 2,9", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 89\nVariance: 31\nOptimumMakeSpan: 232\nInstanceTotalMakeSpan: 243\nOptimumMinusMakeSpan: 11\nMaxTime: 1\nMinTime: 0\nAvgTime: 0,4", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 89\nVariance: 26\nOptimumMakeSpan: 209\nInstanceTotalMakeSpan: 220\nOptimumMinusMakeSpan: 11\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 89\nVariance: 27\nOptimumMakeSpan: 221\nInstanceTotalMakeSpan: 232\nOptimumMinusMakeSpan: 11\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 89\nVariance: 27\nOptimumMakeSpan: 221\nInstanceTotalMakeSpan: 232\nOptimumMinusMakeSpan: 10\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 89\nVariance: 28\nOptimumMakeSpan: 225\nInstanceTotalMakeSpan: 237\nOptimumMinusMakeSpan: 12\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 89\nVariance: 29\nOptimumMakeSpan: 221\nInstanceTotalMakeSpan: 232\nOptimumMinusMakeSpan: 11\nMaxTime: 1\nMinTime: 1\nAvgTime: 1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 89\nVariance: 28\nOptimumMakeSpan: 228\nInstanceTotalMakeSpan: 239\nOptimumMinusMakeSpan: 11\nMaxTime: 2\nMinTime: 1\nAvgTime: 1,1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 89\nVariance: 27\nOptimumMakeSpan: 217\nInstanceTotalMakeSpan: 230\nOptimumMinusMakeSpan: 12\nMaxTime: 2\nMinTime: 1\nAvgTime: 1,5"]}, {"title": "M = 20 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [1018, 1014, 1004, 1007, 1001, 1018, 1004, 1010, 994, 1022], "tooltips": ["NumberOfMachines: 20\nR: 2\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 1006\nInstanceTotalMakeSpan: 1018\nOptimumMinusMakeSpan: 11\nMaxTime: 5\nMinTime: 4\nAvgTime: 4,9", "NumberOfMachines: 20\nR: 2\nAlpha: 0,1\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 1000\nInstanceTotalMakeSpan: 1014\nOptimumMinusMakeSpan: 14\nMaxTime: 36\nMinTime: 13\nAvgTime: 27,3", "NumberOfMachines: 20\nR: 2\nAlpha: 0,2\nNumberOfTasks: 400\nVariance: 22\nOptimumMakeSpan: 991\nInstanceTotalMakeSpan: 1004\nOptimumMinusMakeSpan: 13\nMaxTime: 8\nMinTime: 7\nAvgTime: 7,5", "NumberOfMachines: 20\nR: 2\nAlpha: 0,3\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 992\nInstanceTotalMakeSpan: 1007\nOptimumMinusMakeSpan: 15\nMaxTime: 9\nMinTime: 8\nAvgTime: 8,9", "NumberOfMachines: 20\nR: 2\nAlpha: 0,4\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 989\nInstanceTotalMakeSpan: 1001\nOptimumMinusMakeSpan: 11\nMaxTime: 10\nMinTime: 9\nAvgTime: 9,2", "NumberOfMachines: 20\nR: 2\nAlpha: 0,5\nNumberOfTasks: 400\nVariance: 22\nOptimumMakeSpan: 1004\nInstanceTotalMakeSpan: 1018\nOptimumMinusMakeSpan: 13\nMaxTime: 11\nMinTime: 10\nAvgTime: 10,2", "NumberOfMachines: 20\nR: 2\nAlpha: 0,6\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 991\nInstanceTotalMakeSpan: 1004\nOptimumMinusMakeSpan: 12\nMaxTime: 11\nMinTime: 10\nAvgTime: 10,4", "NumberOfMachines: 20\nR: 2\nAlpha: 0,7\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 997\nInstanceTotalMakeSpan: 1010\nOptimumMinusMakeSpan: 13\nMaxTime: 13\nMinTime: 11\nAvgTime: 11,7", "NumberOfMachines: 20\nR: 2\nAlpha: 0,8\nNumberOfTasks: 400\nVariance: 22\nOptimumMakeSpan: 980\nInstanceTotalMakeSpan: 994\nOptimumMinusMakeSpan: 13\nMaxTime: 13\nMinTime: 11\nAvgTime: 12,2", "NumberOfMachines: 20\nR: 2\nAlpha: 0,9\nNumberOfTasks: 400\nVariance: 24\nOptimumMakeSpan: 1010\nInstanceTotalMakeSpan: 1022\nOptimumMinusMakeSpan: 11\nMaxTime: 13\nMinTime: 12\nAvgTime: 12,5"]}, {"title": "M = 50 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [359, 365, 356, 361, 367, 363, 360, 363, 362, 367], "tooltips": ["NumberOfMachines: 50\nR: 1,5\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 349\nInstanceTotalMakeSpan: 359\nOptimumMinusMakeSpan: 10\nMaxTime: 6\nMinTime: 5\nAvgTime: 5,1", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 352\nInstanceTotalMakeSpan: 365\nOptimumMinusMakeSpan: 12\nMaxTime: 15\nMinTime: 7\nAvgTime: 10,7", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 346\nInstanceTotalMakeSpan: 356\nOptimumMinusMakeSpan: 10\nMaxTime: 11\nMinTime: 9\nAvgTime: 9,3", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 351\nInstanceTotalMakeSpan: 361\nOptimumMinusMakeSpan: 10\nMaxTime: 14\nMinTime: 11\nAvgTime: 11,8", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 355\nInstanceTotalMakeSpan: 367\nOptimumMinusMakeSpan: 11\nMaxTime: 14\nMinTime: 12\nAvgTime: 12,4", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 351\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 11\nMaxTime: 14\nMinTime: 13\nAvgTime: 13,2", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 348\nInstanceTotalMakeSpan: 360\nOptimumMinusMakeSpan: 11\nMaxTime: 16\nMinTime: 14\nAvgTime: 14,4", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 351\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 12\nMaxTime: 16\nMinTime: 14\nAvgTime: 15", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 351\nInstanceTotalMakeSpan: 362\nOptimumMinusMakeSpan: 11\nMaxTime: 17\nMinTime: 16\nAvgTime: 16,2", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 355\nInstanceTotalMakeSpan: 367\nOptimumMinusMakeSpan: 11\nMaxTime: 17\nMinTime: 16\nAvgTime: 16,7"]}, {"title": "M = 50 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [2494, 2499, 2515, 2515, 2518, 2498, 2506, 2504, 2509, 2496], "tooltips": ["NumberOfMachines: 50\nR: 2\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2489\nInstanceTotalMakeSpan: 2494\nOptimumMinusMakeSpan: 5\nMaxTime: 187\nMinTime: 180\nAvgTime: 183,7", "NumberOfMachines: 50\nR: 2\nAlpha: 0,1\nNumberOfTasks: 2500\nVariance: 13\nOptimumMakeSpan: 2490\nInstanceTotalMakeSpan: 2499\nOptimumMinusMakeSpan: 9\nMaxTime: 222\nMinTime: 214\nAvgTime: 216,4", "NumberOfMachines: 50\nR: 2\nAlpha: 0,2\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2506\nInstanceTotalMakeSpan: 2515\nOptimumMinusMakeSpan: 9\nMaxTime: 236\nMinTime: 226\nAvgTime: 232,5", "NumberOfMachines: 50\nR: 2\nAlpha: 0,3\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2505\nInstanceTotalMakeSpan: 2515\nOptimumMinusMakeSpan: 9\nMaxTime: 251\nMinTime: 245\nAvgTime: 247,8", "NumberOfMachines: 50\nR: 2\nAlpha: 0,4\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2510\nInstanceTotalMakeSpan: 2518\nOptimumMinusMakeSpan: 8\nMaxTime: 261\nMinTime: 252\nAvgTime: 257,5", "NumberOfMachines: 50\nR: 2\nAlpha: 0,5\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2490\nInstanceTotalMakeSpan: 2498\nOptimumMinusMakeSpan: 7\nMaxTime: 274\nMinTime: 264\nAvgTime: 269,6", "NumberOfMachines: 50\nR: 2\nAlpha: 0,6\nNumberOfTasks: 2500\nVariance: 13\nOptimumMakeSpan: 2498\nInstanceTotalMakeSpan: 2506\nOptimumMinusMakeSpan: 7\nMaxTime: 292\nMinTime: 277\nAvgTime: 284,8", "NumberOfMachines: 50\nR: 2\nAlpha: 0,7\nNumberOfTasks: 2500\nVariance: 13\nOptimumMakeSpan: 2497\nInstanceTotalMakeSpan: 2504\nOptimumMinusMakeSpan: 7\nMaxTime: 297\nMinTime: 281\nAvgTime: 289,2", "NumberOfMachines: 50\nR: 2\nAlpha: 0,8\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2502\nInstanceTotalMakeSpan: 2509\nOptimumMinusMakeSpan: 7\nMaxTime: 309\nMinTime: 293\nAvgTime: 299,2", "NumberOfMachines: 50\nR: 2\nAlpha: 0,9\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2489\nInstanceTotalMakeSpan: 2496\nOptimumMinusMakeSpan: 6\nMaxTime: 314\nMinTime: 299\nAvgTime: 305,4"]}];

    var container = document.getElementById('chartsContainer');
    charts.forEach(function(chart, index) {
         // Cria um elemento div para cada gráfico
         var div = document.createElement('div');
         div.className = 'chart-container';

         // Cria o título do gráfico
         var title = document.createElement('h2');
         title.textContent = chart.title;
         div.appendChild(title);

         // Cria o canvas para o gráfico
         var canvas = document.createElement('canvas');
         canvas.id = 'chart_' + index;
         canvas.width = 600;
         canvas.height = 400;
         div.appendChild(canvas);

         // Cria a div que exibirá os detalhes ao clicar na barra
         var infoBox = document.createElement('div');
         infoBox.id = 'infoBox_' + index;
         infoBox.className = 'info-box';
         div.appendChild(infoBox);

         container.appendChild(div);

         // Calcula as cores: a barra com o menor valor em chart.data ficará em vermelho
         var minVal = Math.min.apply(null, chart.data);
         var backgroundColors = chart.data.map(function(val) {
              return (val === minVal) ? 'rgba(255, 99, 132, 0.2)' : 'rgba(54, 162, 235, 0.2)';
         });
         var borderColors = chart.data.map(function(val) {
              return (val === minVal) ? 'rgba(255, 99, 132, 1)' : 'rgba(54, 162, 235, 1)';
         });

         // Cria o gráfico de barras com Chart.js e define um callback para o clique
         var ctx = canvas.getContext('2d');
         var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                  labels: chart.labels,
                  datasets: [{
                      label: 'Instance Total MakeSpan',
                      data: chart.data,
                      backgroundColor: backgroundColors,
                      borderColor: borderColors,
                      borderWidth: 1
                  }]
              },
              options: {
                  scales: {
                      y: {
                          beginAtZero: true
                      }
                  },
                  onClick: function(evt, activeElements) {
                      if(activeElements.length > 0) {
                          var idx = activeElements[0].index;
                          var info = chart.tooltips[idx];
                          // Atualiza e exibe a info box com as informações detalhadas
                          var infoBox = document.getElementById('infoBox_' + index);
                          infoBox.innerHTML = info.replace(/\\n/g, '<br>');
                          infoBox.style.display = 'block';
                      }
                  },
                  plugins: {
                      tooltip: {
                          enabled: false // Desabilita o tooltip padrão
                      }
                  }
              }
         });
    });
  </script>
</body>
</html>
