
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Relatório Final</title>
  <!-- Carrega o Chart.js a partir do CDN -->
  <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
  <style>
    body {
      background-color: #f9f9f9;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    /* Mosaico: container flex com quebra de linha */
    #chartsContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .chart-container {
      width: calc(50% - 20px);
      border: 1px solid #ddd;
      padding: 10px;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    }
    .chart-container h2 {
      text-align: center;
    }
    .info-box {
      margin-top: 10px;
      padding: 10px;
      background-color: #eee;
      border: 1px solid #ccc;
      display: none;
      white-space: pre-wrap; /* preserva as quebras de linha */
    }
  </style>
</head>
<body>
  <div id='chartsContainer'></div>
  <script>
    // Array de gráficos gerado no servidor
    var charts = [{"title": "M = 10 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [180, 149, 157, 155, 163, 169, 172, 162, 158, 153], "tooltips": ["NumberOfMachines: 10\nR: 1,5\nNumberOfTasks: 31\nVariance: 35\nOptimumMakeSpan: 159\nInstanceTotalMakeSpan: 180\nOptimumMinusMakeSpan: 21\nMaxTime: 2\nMinTime: 0\nAvgTime: 0,2", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 31\nVariance: 10\nOptimumMakeSpan: 145\nInstanceTotalMakeSpan: 149\nOptimumMinusMakeSpan: 4\nMaxTime: 42\nMinTime: 20\nAvgTime: 28", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 31\nVariance: 11\nOptimumMakeSpan: 152\nInstanceTotalMakeSpan: 157\nOptimumMinusMakeSpan: 5\nMaxTime: 53\nMinTime: 28\nAvgTime: 36", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 31\nVariance: 8\nOptimumMakeSpan: 151\nInstanceTotalMakeSpan: 155\nOptimumMinusMakeSpan: 4\nMaxTime: 71\nMinTime: 28\nAvgTime: 43,1", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 31\nVariance: 8\nOptimumMakeSpan: 158\nInstanceTotalMakeSpan: 163\nOptimumMinusMakeSpan: 4\nMaxTime: 106\nMinTime: 33\nAvgTime: 56,8", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 31\nVariance: 12\nOptimumMakeSpan: 163\nInstanceTotalMakeSpan: 169\nOptimumMinusMakeSpan: 5\nMaxTime: 86\nMinTime: 35\nAvgTime: 49,4", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 31\nVariance: 11\nOptimumMakeSpan: 167\nInstanceTotalMakeSpan: 172\nOptimumMinusMakeSpan: 4\nMaxTime: 100\nMinTime: 33\nAvgTime: 57,1", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 31\nVariance: 13\nOptimumMakeSpan: 156\nInstanceTotalMakeSpan: 162\nOptimumMinusMakeSpan: 5\nMaxTime: 78\nMinTime: 38\nAvgTime: 56,4", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 31\nVariance: 10\nOptimumMakeSpan: 153\nInstanceTotalMakeSpan: 158\nOptimumMinusMakeSpan: 5\nMaxTime: 96\nMinTime: 40\nAvgTime: 67,7", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 31\nVariance: 11\nOptimumMakeSpan: 148\nInstanceTotalMakeSpan: 153\nOptimumMinusMakeSpan: 5\nMaxTime: 130\nMinTime: 47\nAvgTime: 79,5"]}, {"title": "M = 10 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [516, 509, 504, 509, 479, 501, 501, 521, 503, 509], "tooltips": ["NumberOfMachines: 10\nR: 2\nNumberOfTasks: 100\nVariance: 30\nOptimumMakeSpan: 503\nInstanceTotalMakeSpan: 516\nOptimumMinusMakeSpan: 13\nMaxTime: 2\nMinTime: 1\nAvgTime: 1,4", "NumberOfMachines: 10\nR: 2\nAlpha: 0,1\nNumberOfTasks: 100\nVariance: 4\nOptimumMakeSpan: 507\nInstanceTotalMakeSpan: 509\nOptimumMinusMakeSpan: 2\nMaxTime: 178\nMinTime: 85\nAvgTime: 110,7", "NumberOfMachines: 10\nR: 2\nAlpha: 0,2\nNumberOfTasks: 100\nVariance: 5\nOptimumMakeSpan: 502\nInstanceTotalMakeSpan: 504\nOptimumMinusMakeSpan: 2\nMaxTime: 144\nMinTime: 98\nAvgTime: 121,5", "NumberOfMachines: 10\nR: 2\nAlpha: 0,3\nNumberOfTasks: 100\nVariance: 4\nOptimumMakeSpan: 507\nInstanceTotalMakeSpan: 509\nOptimumMinusMakeSpan: 2\nMaxTime: 167\nMinTime: 105\nAvgTime: 135,5", "NumberOfMachines: 10\nR: 2\nAlpha: 0,4\nNumberOfTasks: 100\nVariance: 3\nOptimumMakeSpan: 477\nInstanceTotalMakeSpan: 479\nOptimumMinusMakeSpan: 1\nMaxTime: 230\nMinTime: 149\nAvgTime: 181,2", "NumberOfMachines: 10\nR: 2\nAlpha: 0,5\nNumberOfTasks: 100\nVariance: 3\nOptimumMakeSpan: 499\nInstanceTotalMakeSpan: 501\nOptimumMinusMakeSpan: 1\nMaxTime: 278\nMinTime: 146\nAvgTime: 185,2", "NumberOfMachines: 10\nR: 2\nAlpha: 0,6\nNumberOfTasks: 100\nVariance: 4\nOptimumMakeSpan: 499\nInstanceTotalMakeSpan: 501\nOptimumMinusMakeSpan: 2\nMaxTime: 205\nMinTime: 142\nAvgTime: 173,9", "NumberOfMachines: 10\nR: 2\nAlpha: 0,7\nNumberOfTasks: 100\nVariance: 3\nOptimumMakeSpan: 519\nInstanceTotalMakeSpan: 521\nOptimumMinusMakeSpan: 2\nMaxTime: 288\nMinTime: 164\nAvgTime: 220,2", "NumberOfMachines: 10\nR: 2\nAlpha: 0,8\nNumberOfTasks: 100\nVariance: 3\nOptimumMakeSpan: 502\nInstanceTotalMakeSpan: 503\nOptimumMinusMakeSpan: 1\nMaxTime: 337\nMinTime: 171\nAvgTime: 235", "NumberOfMachines: 10\nR: 2\nAlpha: 0,9\nNumberOfTasks: 100\nVariance: 3\nOptimumMakeSpan: 507\nInstanceTotalMakeSpan: 509\nOptimumMinusMakeSpan: 2\nMaxTime: 315\nMinTime: 171\nAvgTime: 229"]}, {"title": "M = 20 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [238, 230, 231, 224, 227, 233, 227, 233, 227, 227], "tooltips": ["NumberOfMachines: 20\nR: 1,5\nNumberOfTasks: 89\nVariance: 31\nOptimumMakeSpan: 224\nInstanceTotalMakeSpan: 238\nOptimumMinusMakeSpan: 13\nMaxTime: 2\nMinTime: 1\nAvgTime: 1,1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 89\nVariance: 15\nOptimumMakeSpan: 224\nInstanceTotalMakeSpan: 230\nOptimumMinusMakeSpan: 6\nMaxTime: 242\nMinTime: 81\nAvgTime: 130", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 89\nVariance: 14\nOptimumMakeSpan: 224\nInstanceTotalMakeSpan: 231\nOptimumMinusMakeSpan: 6\nMaxTime: 284\nMinTime: 109\nAvgTime: 162,4", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 89\nVariance: 15\nOptimumMakeSpan: 217\nInstanceTotalMakeSpan: 224\nOptimumMinusMakeSpan: 7\nMaxTime: 269\nMinTime: 107\nAvgTime: 164,5", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 89\nVariance: 13\nOptimumMakeSpan: 220\nInstanceTotalMakeSpan: 227\nOptimumMinusMakeSpan: 6\nMaxTime: 369\nMinTime: 132\nAvgTime: 201", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 89\nVariance: 16\nOptimumMakeSpan: 225\nInstanceTotalMakeSpan: 233\nOptimumMinusMakeSpan: 7\nMaxTime: 358\nMinTime: 139\nAvgTime: 228,8", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 89\nVariance: 20\nOptimumMakeSpan: 220\nInstanceTotalMakeSpan: 227\nOptimumMinusMakeSpan: 7\nMaxTime: 337\nMinTime: 138\nAvgTime: 202,2", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 89\nVariance: 19\nOptimumMakeSpan: 225\nInstanceTotalMakeSpan: 233\nOptimumMinusMakeSpan: 7\nMaxTime: 496\nMinTime: 149\nAvgTime: 241,7", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 89\nVariance: 20\nOptimumMakeSpan: 219\nInstanceTotalMakeSpan: 227\nOptimumMinusMakeSpan: 8\nMaxTime: 291\nMinTime: 166\nAvgTime: 206,5", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 89\nVariance: 17\nOptimumMakeSpan: 219\nInstanceTotalMakeSpan: 227\nOptimumMinusMakeSpan: 7\nMaxTime: 428\nMinTime: 173\nAvgTime: 248,7"]}, {"title": "M = 20 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [1010, 1008, 1010, 1000, 1013, 1003, 989, 1001, 1001, 1006], "tooltips": ["NumberOfMachines: 20\nR: 2\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 997\nInstanceTotalMakeSpan: 1010\nOptimumMinusMakeSpan: 12\nMaxTime: 26\nMinTime: 25\nAvgTime: 25,6", "NumberOfMachines: 20\nR: 2\nAlpha: 0,1\nNumberOfTasks: 400\nVariance: 5\nOptimumMakeSpan: 1005\nInstanceTotalMakeSpan: 1008\nOptimumMinusMakeSpan: 3\nMaxTime: 1451\nMinTime: 819\nAvgTime: 1063,1", "NumberOfMachines: 20\nR: 2\nAlpha: 0,2\nNumberOfTasks: 400\nVariance: 5\nOptimumMakeSpan: 1007\nInstanceTotalMakeSpan: 1010\nOptimumMinusMakeSpan: 2\nMaxTime: 1206\nMinTime: 723\nAvgTime: 891,8", "NumberOfMachines: 20\nR: 2\nAlpha: 0,3\nNumberOfTasks: 400\nVariance: 5\nOptimumMakeSpan: 998\nInstanceTotalMakeSpan: 1000\nOptimumMinusMakeSpan: 2\nMaxTime: 1488\nMinTime: 865\nAvgTime: 1113,3", "NumberOfMachines: 20\nR: 2\nAlpha: 0,4\nNumberOfTasks: 400\nVariance: 5\nOptimumMakeSpan: 1010\nInstanceTotalMakeSpan: 1013\nOptimumMinusMakeSpan: 2\nMaxTime: 1686\nMinTime: 861\nAvgTime: 1229,5", "NumberOfMachines: 20\nR: 2\nAlpha: 0,5\nNumberOfTasks: 400\nVariance: 4\nOptimumMakeSpan: 1000\nInstanceTotalMakeSpan: 1003\nOptimumMinusMakeSpan: 2\nMaxTime: 1881\nMinTime: 958\nAvgTime: 1270,5", "NumberOfMachines: 20\nR: 2\nAlpha: 0,6\nNumberOfTasks: 400\nVariance: 5\nOptimumMakeSpan: 987\nInstanceTotalMakeSpan: 989\nOptimumMinusMakeSpan: 2\nMaxTime: 1995\nMinTime: 1007\nAvgTime: 1353", "NumberOfMachines: 20\nR: 2\nAlpha: 0,7\nNumberOfTasks: 400\nVariance: 6\nOptimumMakeSpan: 998\nInstanceTotalMakeSpan: 1001\nOptimumMinusMakeSpan: 2\nMaxTime: 1979\nMinTime: 982\nAvgTime: 1350,9", "NumberOfMachines: 20\nR: 2\nAlpha: 0,8\nNumberOfTasks: 400\nVariance: 4\nOptimumMakeSpan: 999\nInstanceTotalMakeSpan: 1001\nOptimumMinusMakeSpan: 2\nMaxTime: 2003\nMinTime: 1178\nAvgTime: 1529,5", "NumberOfMachines: 20\nR: 2\nAlpha: 0,9\nNumberOfTasks: 400\nVariance: 5\nOptimumMakeSpan: 1003\nInstanceTotalMakeSpan: 1006\nOptimumMinusMakeSpan: 2\nMaxTime: 1661\nMinTime: 1237\nAvgTime: 1417,8"]}, {"title": "M = 50 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [360, 356, 364, 366, 366, 362, 357, 364, 363, 359], "tooltips": ["NumberOfMachines: 50\nR: 1,5\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 350\nInstanceTotalMakeSpan: 360\nOptimumMinusMakeSpan: 10\nMaxTime: 11\nMinTime: 10\nAvgTime: 10,2", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 353\nVariance: 17\nOptimumMakeSpan: 347\nInstanceTotalMakeSpan: 356\nOptimumMinusMakeSpan: 9\nMaxTime: 1464\nMinTime: 611\nAvgTime: 976,3", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 356\nInstanceTotalMakeSpan: 364\nOptimumMinusMakeSpan: 8\nMaxTime: 2540\nMinTime: 803\nAvgTime: 1463,3", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 353\nVariance: 17\nOptimumMakeSpan: 357\nInstanceTotalMakeSpan: 366\nOptimumMinusMakeSpan: 9\nMaxTime: 1817\nMinTime: 868\nAvgTime: 1239,5", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 353\nVariance: 17\nOptimumMakeSpan: 357\nInstanceTotalMakeSpan: 366\nOptimumMinusMakeSpan: 8\nMaxTime: 2209\nMinTime: 1104\nAvgTime: 1447,3", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 352\nInstanceTotalMakeSpan: 362\nOptimumMinusMakeSpan: 9\nMaxTime: 2152\nMinTime: 1156\nAvgTime: 1590,3", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 348\nInstanceTotalMakeSpan: 357\nOptimumMinusMakeSpan: 9\nMaxTime: 2607\nMinTime: 1126\nAvgTime: 1751,7", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 353\nVariance: 15\nOptimumMakeSpan: 356\nInstanceTotalMakeSpan: 364\nOptimumMinusMakeSpan: 8\nMaxTime: 3047\nMinTime: 1248\nAvgTime: 2031,7", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 353\nVariance: 17\nOptimumMakeSpan: 354\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 9\nMaxTime: 4354\nMinTime: 1324\nAvgTime: 2053,6", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 349\nInstanceTotalMakeSpan: 359\nOptimumMinusMakeSpan: 9\nMaxTime: 3300\nMinTime: 1217\nAvgTime: 1805,7"]}, {"title": "M = 50 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [2502, 2494, 2492, 2498, 2501, 2498, 2499, 2483, 2498, 2492], "tooltips": ["NumberOfMachines: 50\nR: 2\nNumberOfTasks: 2500\nVariance: 13\nOptimumMakeSpan: 2495\nInstanceTotalMakeSpan: 2502\nOptimumMinusMakeSpan: 6\nMaxTime: 223\nMinTime: 184\nAvgTime: 200", "NumberOfMachines: 50\nR: 2\nAlpha: 0,1\nNumberOfTasks: 2500\nVariance: 10\nOptimumMakeSpan: 2491\nInstanceTotalMakeSpan: 2494\nOptimumMinusMakeSpan: 3\nMaxTime: 17791\nMinTime: 11546\nAvgTime: 13229,7", "NumberOfMachines: 50\nR: 2\nAlpha: 0,2\nNumberOfTasks: 2500\nVariance: 7\nOptimumMakeSpan: 2489\nInstanceTotalMakeSpan: 2492\nOptimumMinusMakeSpan: 3\nMaxTime: 22747\nMinTime: 13209\nAvgTime: 15545,2", "NumberOfMachines: 50\nR: 2\nAlpha: 0,3\nNumberOfTasks: 2500\nVariance: 10\nOptimumMakeSpan: 2495\nInstanceTotalMakeSpan: 2498\nOptimumMinusMakeSpan: 2\nMaxTime: 24562\nMinTime: 14506\nAvgTime: 17019,4", "NumberOfMachines: 50\nR: 2\nAlpha: 0,4\nNumberOfTasks: 2500\nVariance: 5\nOptimumMakeSpan: 2498\nInstanceTotalMakeSpan: 2501\nOptimumMinusMakeSpan: 3\nMaxTime: 30687\nMinTime: 16624\nAvgTime: 21467,9", "NumberOfMachines: 50\nR: 2\nAlpha: 0,5\nNumberOfTasks: 2500\nVariance: 7\nOptimumMakeSpan: 2495\nInstanceTotalMakeSpan: 2498\nOptimumMinusMakeSpan: 2\nMaxTime: 22370\nMinTime: 16787\nAvgTime: 18099,2", "NumberOfMachines: 50\nR: 2\nAlpha: 0,6\nNumberOfTasks: 2500\nVariance: 10\nOptimumMakeSpan: 2496\nInstanceTotalMakeSpan: 2499\nOptimumMinusMakeSpan: 2\nMaxTime: 20105\nMinTime: 17600\nAvgTime: 18382,9", "NumberOfMachines: 50\nR: 2\nAlpha: 0,7\nNumberOfTasks: 2500\nVariance: 8\nOptimumMakeSpan: 2481\nInstanceTotalMakeSpan: 2483\nOptimumMinusMakeSpan: 2\nMaxTime: 49021\nMinTime: 18564\nAvgTime: 25319,3", "NumberOfMachines: 50\nR: 2\nAlpha: 0,8\nNumberOfTasks: 2500\nVariance: 9\nOptimumMakeSpan: 2495\nInstanceTotalMakeSpan: 2498\nOptimumMinusMakeSpan: 3\nMaxTime: 39431\nMinTime: 19686\nAvgTime: 24272,2", "NumberOfMachines: 50\nR: 2\nAlpha: 0,9\nNumberOfTasks: 2500\nVariance: 10\nOptimumMakeSpan: 2489\nInstanceTotalMakeSpan: 2492\nOptimumMinusMakeSpan: 2\nMaxTime: 39182\nMinTime: 20107\nAvgTime: 24014,8"]}];

    var container = document.getElementById('chartsContainer');
    charts.forEach(function(chart, index) {
         // Cria um elemento div para cada gráfico
         var div = document.createElement('div');
         div.className = 'chart-container';

         // Cria o título do gráfico
         var title = document.createElement('h2');
         title.textContent = chart.title;
         div.appendChild(title);

         // Cria o canvas para o gráfico
         var canvas = document.createElement('canvas');
         canvas.id = 'chart_' + index;
         canvas.width = 600;
         canvas.height = 400;
         div.appendChild(canvas);

         // Cria a div que exibirá os detalhes ao clicar na barra
         var infoBox = document.createElement('div');
         infoBox.id = 'infoBox_' + index;
         infoBox.className = 'info-box';
         div.appendChild(infoBox);

         container.appendChild(div);

         // Calcula as cores: a barra com o menor valor em chart.data ficará em vermelho
         var minVal = Math.min.apply(null, chart.data);
         var backgroundColors = chart.data.map(function(val) {
              return (val === minVal) ? 'rgba(255, 99, 132, 0.2)' : 'rgba(54, 162, 235, 0.2)';
         });
         var borderColors = chart.data.map(function(val) {
              return (val === minVal) ? 'rgba(255, 99, 132, 1)' : 'rgba(54, 162, 235, 1)';
         });

         // Cria o gráfico de barras com Chart.js e define um callback para o clique
         var ctx = canvas.getContext('2d');
         var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                  labels: chart.labels,
                  datasets: [{
                      label: 'Instance Total MakeSpan',
                      data: chart.data,
                      backgroundColor: backgroundColors,
                      borderColor: borderColors,
                      borderWidth: 1
                  }]
              },
              options: {
                  scales: {
                      y: {
                          beginAtZero: true
                      }
                  },
                  onClick: function(evt, activeElements) {
                      if(activeElements.length > 0) {
                          var idx = activeElements[0].index;
                          var info = chart.tooltips[idx];
                          // Atualiza e exibe a info box com as informações detalhadas
                          var infoBox = document.getElementById('infoBox_' + index);
                          infoBox.innerHTML = info.replace(/\\n/g, '<br>');
                          infoBox.style.display = 'block';
                      }
                  },
                  plugins: {
                      tooltip: {
                          enabled: false // Desabilita o tooltip padrão
                      }
                  }
              }
         });
    });
  </script>
</body>
</html>
