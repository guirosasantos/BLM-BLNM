
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Relatório Final</title>
  <!-- Carrega o Chart.js a partir do CDN -->
  <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
  <style>
    body {
      background-color: #f9f9f9;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    /* Mosaico: container flex com quebra de linha */
    #chartsContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .chart-container {
      width: calc(50% - 20px);
      border: 1px solid #ddd;
      padding: 10px;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    }
    .chart-container h2 {
      text-align: center;
    }
    .info-box {
      margin-top: 10px;
      padding: 10px;
      background-color: #eee;
      border: 1px solid #ccc;
      display: none;
      white-space: pre-wrap; /* preserva as quebras de linha */
    }
  </style>
</head>
<body>
  <div id='chartsContainer'></div>
  <script>
    // Array de gráficos gerado no servidor
    var charts = [{"title": "M = 10 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [177, 156, 158, 163, 163, 152, 157, 150, 158, 163], "tooltips": ["NumberOfMachines: 10\nR: 1,5\nNumberOfTasks: 31\nVariance: 38\nOptimumMakeSpan: 155\nInstanceTotalMakeSpan: 177\nOptimumMinusMakeSpan: 22\nMaxTime: 2\nMinTime: 0\nAvgTime: 0,2", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 31\nVariance: 12\nOptimumMakeSpan: 150\nInstanceTotalMakeSpan: 156\nOptimumMinusMakeSpan: 6\nMaxTime: 51\nMinTime: 22\nAvgTime: 31", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 31\nVariance: 11\nOptimumMakeSpan: 152\nInstanceTotalMakeSpan: 158\nOptimumMinusMakeSpan: 5\nMaxTime: 96\nMinTime: 29\nAvgTime: 51,8", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 31\nVariance: 11\nOptimumMakeSpan: 158\nInstanceTotalMakeSpan: 163\nOptimumMinusMakeSpan: 5\nMaxTime: 68\nMinTime: 36\nAvgTime: 52,6", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 31\nVariance: 12\nOptimumMakeSpan: 158\nInstanceTotalMakeSpan: 163\nOptimumMinusMakeSpan: 5\nMaxTime: 100\nMinTime: 43\nAvgTime: 65,1", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 31\nVariance: 10\nOptimumMakeSpan: 148\nInstanceTotalMakeSpan: 152\nOptimumMinusMakeSpan: 4\nMaxTime: 116\nMinTime: 45\nAvgTime: 77,8", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 31\nVariance: 15\nOptimumMakeSpan: 149\nInstanceTotalMakeSpan: 157\nOptimumMinusMakeSpan: 7\nMaxTime: 149\nMinTime: 48\nAvgTime: 72,3", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 31\nVariance: 13\nOptimumMakeSpan: 144\nInstanceTotalMakeSpan: 150\nOptimumMinusMakeSpan: 6\nMaxTime: 136\nMinTime: 58\nAvgTime: 91,7", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 31\nVariance: 13\nOptimumMakeSpan: 153\nInstanceTotalMakeSpan: 158\nOptimumMinusMakeSpan: 5\nMaxTime: 145\nMinTime: 62\nAvgTime: 94", "NumberOfMachines: 10\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 31\nVariance: 13\nOptimumMakeSpan: 156\nInstanceTotalMakeSpan: 163\nOptimumMinusMakeSpan: 7\nMaxTime: 119\nMinTime: 62\nAvgTime: 77,5"]}, {"title": "M = 10 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [516, 503, 495, 497, 506, 500, 502, 499, 483, 518], "tooltips": ["NumberOfMachines: 10\nR: 2\nNumberOfTasks: 100\nVariance: 32\nOptimumMakeSpan: 503\nInstanceTotalMakeSpan: 516\nOptimumMinusMakeSpan: 13\nMaxTime: 2\nMinTime: 1\nAvgTime: 1,5", "NumberOfMachines: 10\nR: 2\nAlpha: 0,1\nNumberOfTasks: 100\nVariance: 4\nOptimumMakeSpan: 501\nInstanceTotalMakeSpan: 503\nOptimumMinusMakeSpan: 2\nMaxTime: 195\nMinTime: 88\nAvgTime: 124,5", "NumberOfMachines: 10\nR: 2\nAlpha: 0,2\nNumberOfTasks: 100\nVariance: 5\nOptimumMakeSpan: 493\nInstanceTotalMakeSpan: 495\nOptimumMinusMakeSpan: 2\nMaxTime: 211\nMinTime: 123\nAvgTime: 153,6", "NumberOfMachines: 10\nR: 2\nAlpha: 0,3\nNumberOfTasks: 100\nVariance: 4\nOptimumMakeSpan: 495\nInstanceTotalMakeSpan: 497\nOptimumMinusMakeSpan: 2\nMaxTime: 266\nMinTime: 155\nAvgTime: 199,6", "NumberOfMachines: 10\nR: 2\nAlpha: 0,4\nNumberOfTasks: 100\nVariance: 4\nOptimumMakeSpan: 503\nInstanceTotalMakeSpan: 506\nOptimumMinusMakeSpan: 2\nMaxTime: 347\nMinTime: 176\nAvgTime: 237,1", "NumberOfMachines: 10\nR: 2\nAlpha: 0,5\nNumberOfTasks: 100\nVariance: 5\nOptimumMakeSpan: 497\nInstanceTotalMakeSpan: 500\nOptimumMinusMakeSpan: 2\nMaxTime: 507\nMinTime: 199\nAvgTime: 334,8", "NumberOfMachines: 10\nR: 2\nAlpha: 0,6\nNumberOfTasks: 100\nVariance: 3\nOptimumMakeSpan: 500\nInstanceTotalMakeSpan: 502\nOptimumMinusMakeSpan: 2\nMaxTime: 491\nMinTime: 246\nAvgTime: 341,8", "NumberOfMachines: 10\nR: 2\nAlpha: 0,7\nNumberOfTasks: 100\nVariance: 5\nOptimumMakeSpan: 496\nInstanceTotalMakeSpan: 499\nOptimumMinusMakeSpan: 2\nMaxTime: 454\nMinTime: 228\nAvgTime: 323,9", "NumberOfMachines: 10\nR: 2\nAlpha: 0,8\nNumberOfTasks: 100\nVariance: 5\nOptimumMakeSpan: 480\nInstanceTotalMakeSpan: 483\nOptimumMinusMakeSpan: 2\nMaxTime: 480\nMinTime: 253\nAvgTime: 344,4", "NumberOfMachines: 10\nR: 2\nAlpha: 0,9\nNumberOfTasks: 100\nVariance: 5\nOptimumMakeSpan: 515\nInstanceTotalMakeSpan: 518\nOptimumMinusMakeSpan: 2\nMaxTime: 470\nMinTime: 252\nAvgTime: 339,3"]}, {"title": "M = 20 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [233, 228, 230, 227, 233, 233, 229, 222, 236, 234], "tooltips": ["NumberOfMachines: 20\nR: 1,5\nNumberOfTasks: 89\nVariance: 25\nOptimumMakeSpan: 223\nInstanceTotalMakeSpan: 233\nOptimumMinusMakeSpan: 10\nMaxTime: 3\nMinTime: 1\nAvgTime: 2", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 89\nVariance: 16\nOptimumMakeSpan: 220\nInstanceTotalMakeSpan: 228\nOptimumMinusMakeSpan: 7\nMaxTime: 299\nMinTime: 83\nAvgTime: 158,5", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 89\nVariance: 18\nOptimumMakeSpan: 221\nInstanceTotalMakeSpan: 230\nOptimumMinusMakeSpan: 9\nMaxTime: 343\nMinTime: 119\nAvgTime: 186,9", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 89\nVariance: 18\nOptimumMakeSpan: 218\nInstanceTotalMakeSpan: 227\nOptimumMinusMakeSpan: 8\nMaxTime: 390\nMinTime: 193\nAvgTime: 275,9", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 89\nVariance: 19\nOptimumMakeSpan: 224\nInstanceTotalMakeSpan: 233\nOptimumMinusMakeSpan: 9\nMaxTime: 371\nMinTime: 187\nAvgTime: 243,1", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 89\nVariance: 18\nOptimumMakeSpan: 224\nInstanceTotalMakeSpan: 233\nOptimumMinusMakeSpan: 8\nMaxTime: 434\nMinTime: 213\nAvgTime: 287,5", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 89\nVariance: 18\nOptimumMakeSpan: 220\nInstanceTotalMakeSpan: 229\nOptimumMinusMakeSpan: 9\nMaxTime: 495\nMinTime: 222\nAvgTime: 344,8", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 89\nVariance: 18\nOptimumMakeSpan: 213\nInstanceTotalMakeSpan: 222\nOptimumMinusMakeSpan: 9\nMaxTime: 488\nMinTime: 249\nAvgTime: 333,7", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 89\nVariance: 20\nOptimumMakeSpan: 225\nInstanceTotalMakeSpan: 236\nOptimumMinusMakeSpan: 10\nMaxTime: 594\nMinTime: 259\nAvgTime: 394,7", "NumberOfMachines: 20\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 89\nVariance: 17\nOptimumMakeSpan: 225\nInstanceTotalMakeSpan: 234\nOptimumMinusMakeSpan: 8\nMaxTime: 992\nMinTime: 278\nAvgTime: 513,1"]}, {"title": "M = 20 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [1012, 1003, 993, 1004, 1001, 995, 1006, 998, 1004, 1002], "tooltips": ["NumberOfMachines: 20\nR: 2\nNumberOfTasks: 400\nVariance: 23\nOptimumMakeSpan: 1000\nInstanceTotalMakeSpan: 1012\nOptimumMinusMakeSpan: 12\nMaxTime: 29\nMinTime: 14\nAvgTime: 26,4", "NumberOfMachines: 20\nR: 2\nAlpha: 0,1\nNumberOfTasks: 400\nVariance: 6\nOptimumMakeSpan: 999\nInstanceTotalMakeSpan: 1003\nOptimumMinusMakeSpan: 3\nMaxTime: 2181\nMinTime: 763\nAvgTime: 1515,9", "NumberOfMachines: 20\nR: 2\nAlpha: 0,2\nNumberOfTasks: 400\nVariance: 8\nOptimumMakeSpan: 988\nInstanceTotalMakeSpan: 993\nOptimumMinusMakeSpan: 4\nMaxTime: 2198\nMinTime: 1042\nAvgTime: 1479", "NumberOfMachines: 20\nR: 2\nAlpha: 0,3\nNumberOfTasks: 400\nVariance: 7\nOptimumMakeSpan: 1000\nInstanceTotalMakeSpan: 1004\nOptimumMinusMakeSpan: 3\nMaxTime: 3212\nMinTime: 1572\nAvgTime: 2137,4", "NumberOfMachines: 20\nR: 2\nAlpha: 0,4\nNumberOfTasks: 400\nVariance: 8\nOptimumMakeSpan: 997\nInstanceTotalMakeSpan: 1001\nOptimumMinusMakeSpan: 4\nMaxTime: 3087\nMinTime: 1490\nAvgTime: 2215", "NumberOfMachines: 20\nR: 2\nAlpha: 0,5\nNumberOfTasks: 400\nVariance: 8\nOptimumMakeSpan: 991\nInstanceTotalMakeSpan: 995\nOptimumMinusMakeSpan: 4\nMaxTime: 3639\nMinTime: 1595\nAvgTime: 2419,3", "NumberOfMachines: 20\nR: 2\nAlpha: 0,6\nNumberOfTasks: 400\nVariance: 8\nOptimumMakeSpan: 1001\nInstanceTotalMakeSpan: 1006\nOptimumMinusMakeSpan: 4\nMaxTime: 5396\nMinTime: 1860\nAvgTime: 2923,7", "NumberOfMachines: 20\nR: 2\nAlpha: 0,7\nNumberOfTasks: 400\nVariance: 8\nOptimumMakeSpan: 993\nInstanceTotalMakeSpan: 998\nOptimumMinusMakeSpan: 4\nMaxTime: 3664\nMinTime: 1978\nAvgTime: 2659,5", "NumberOfMachines: 20\nR: 2\nAlpha: 0,8\nNumberOfTasks: 400\nVariance: 9\nOptimumMakeSpan: 999\nInstanceTotalMakeSpan: 1004\nOptimumMinusMakeSpan: 4\nMaxTime: 4992\nMinTime: 2091\nAvgTime: 3261", "NumberOfMachines: 20\nR: 2\nAlpha: 0,9\nNumberOfTasks: 400\nVariance: 9\nOptimumMakeSpan: 997\nInstanceTotalMakeSpan: 1002\nOptimumMinusMakeSpan: 4\nMaxTime: 6109\nMinTime: 2141\nAvgTime: 3088,4"]}, {"title": "M = 50 | R = 1,5", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [363, 369, 365, 363, 368, 374, 363, 372, 363, 367], "tooltips": ["NumberOfMachines: 50\nR: 1,5\nNumberOfTasks: 353\nVariance: 16\nOptimumMakeSpan: 352\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 11\nMaxTime: 11\nMinTime: 7\nAvgTime: 9,9", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,1\nNumberOfTasks: 353\nVariance: 25\nOptimumMakeSpan: 357\nInstanceTotalMakeSpan: 369\nOptimumMinusMakeSpan: 12\nMaxTime: 2218\nMinTime: 907\nAvgTime: 1322,7", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,2\nNumberOfTasks: 353\nVariance: 24\nOptimumMakeSpan: 353\nInstanceTotalMakeSpan: 365\nOptimumMinusMakeSpan: 12\nMaxTime: 3133\nMinTime: 1271\nAvgTime: 2037", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,3\nNumberOfTasks: 353\nVariance: 24\nOptimumMakeSpan: 351\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 12\nMaxTime: 3705\nMinTime: 1590\nAvgTime: 2481", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,4\nNumberOfTasks: 353\nVariance: 26\nOptimumMakeSpan: 356\nInstanceTotalMakeSpan: 368\nOptimumMinusMakeSpan: 12\nMaxTime: 3580\nMinTime: 1817\nAvgTime: 2577,8", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,5\nNumberOfTasks: 353\nVariance: 26\nOptimumMakeSpan: 361\nInstanceTotalMakeSpan: 374\nOptimumMinusMakeSpan: 13\nMaxTime: 4718\nMinTime: 2116\nAvgTime: 3138,1", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,6\nNumberOfTasks: 353\nVariance: 26\nOptimumMakeSpan: 350\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 13\nMaxTime: 6464\nMinTime: 2262\nAvgTime: 3558,9", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,7\nNumberOfTasks: 353\nVariance: 27\nOptimumMakeSpan: 358\nInstanceTotalMakeSpan: 372\nOptimumMinusMakeSpan: 14\nMaxTime: 4379\nMinTime: 2283\nAvgTime: 3329", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,8\nNumberOfTasks: 353\nVariance: 24\nOptimumMakeSpan: 350\nInstanceTotalMakeSpan: 363\nOptimumMinusMakeSpan: 12\nMaxTime: 5442\nMinTime: 2441\nAvgTime: 3931,6", "NumberOfMachines: 50\nR: 1,5\nAlpha: 0,9\nNumberOfTasks: 353\nVariance: 26\nOptimumMakeSpan: 354\nInstanceTotalMakeSpan: 367\nOptimumMinusMakeSpan: 13\nMaxTime: 7332\nMinTime: 2572\nAvgTime: 3775,9"]}, {"title": "M = 50 | R = 2", "labels": ["0", "0,1", "0,2", "0,3", "0,4", "0,5", "0,6", "0,7", "0,8", "0,9"], "data": [2517, 2484, 2506, 2494, 2495, 2500, 2509, 2506, 2508, 2510], "tooltips": ["NumberOfMachines: 50\nR: 2\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2510\nInstanceTotalMakeSpan: 2517\nOptimumMinusMakeSpan: 7\nMaxTime: 192\nMinTime: 184\nAvgTime: 187,3", "NumberOfMachines: 50\nR: 2\nAlpha: 0,1\nNumberOfTasks: 2500\nVariance: 10\nOptimumMakeSpan: 2478\nInstanceTotalMakeSpan: 2484\nOptimumMinusMakeSpan: 5\nMaxTime: 41947\nMinTime: 19973\nAvgTime: 26073,6", "NumberOfMachines: 50\nR: 2\nAlpha: 0,2\nNumberOfTasks: 2500\nVariance: 11\nOptimumMakeSpan: 2500\nInstanceTotalMakeSpan: 2506\nOptimumMinusMakeSpan: 6\nMaxTime: 50063\nMinTime: 26474\nAvgTime: 33317,8", "NumberOfMachines: 50\nR: 2\nAlpha: 0,3\nNumberOfTasks: 2500\nVariance: 11\nOptimumMakeSpan: 2488\nInstanceTotalMakeSpan: 2494\nOptimumMinusMakeSpan: 6\nMaxTime: 68711\nMinTime: 31126\nAvgTime: 38036,9", "NumberOfMachines: 50\nR: 2\nAlpha: 0,4\nNumberOfTasks: 2500\nVariance: 11\nOptimumMakeSpan: 2489\nInstanceTotalMakeSpan: 2495\nOptimumMinusMakeSpan: 6\nMaxTime: 43953\nMinTime: 35082\nAvgTime: 37673,1", "NumberOfMachines: 50\nR: 2\nAlpha: 0,5\nNumberOfTasks: 2500\nVariance: 13\nOptimumMakeSpan: 2492\nInstanceTotalMakeSpan: 2500\nOptimumMinusMakeSpan: 7\nMaxTime: 121316\nMinTime: 39257\nAvgTime: 55567,7", "NumberOfMachines: 50\nR: 2\nAlpha: 0,6\nNumberOfTasks: 2500\nVariance: 12\nOptimumMakeSpan: 2502\nInstanceTotalMakeSpan: 2509\nOptimumMinusMakeSpan: 6\nMaxTime: 62572\nMinTime: 40718\nAvgTime: 44233,4", "NumberOfMachines: 50\nR: 2\nAlpha: 0,7\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2498\nInstanceTotalMakeSpan: 2506\nOptimumMinusMakeSpan: 8\nMaxTime: 115818\nMinTime: 45358\nAvgTime: 69315,4", "NumberOfMachines: 50\nR: 2\nAlpha: 0,8\nNumberOfTasks: 2500\nVariance: 15\nOptimumMakeSpan: 2499\nInstanceTotalMakeSpan: 2508\nOptimumMinusMakeSpan: 8\nMaxTime: 89132\nMinTime: 47053\nAvgTime: 62794,1", "NumberOfMachines: 50\nR: 2\nAlpha: 0,9\nNumberOfTasks: 2500\nVariance: 14\nOptimumMakeSpan: 2502\nInstanceTotalMakeSpan: 2510\nOptimumMinusMakeSpan: 7\nMaxTime: 141652\nMinTime: 47900\nAvgTime: 70406,4"]}];

    var container = document.getElementById('chartsContainer');
    charts.forEach(function(chart, index) {
         // Cria um elemento div para cada gráfico
         var div = document.createElement('div');
         div.className = 'chart-container';

         // Cria o título do gráfico
         var title = document.createElement('h2');
         title.textContent = chart.title;
         div.appendChild(title);

         // Cria o canvas para o gráfico
         var canvas = document.createElement('canvas');
         canvas.id = 'chart_' + index;
         canvas.width = 600;
         canvas.height = 400;
         div.appendChild(canvas);

         // Cria a div que exibirá os detalhes ao clicar na barra
         var infoBox = document.createElement('div');
         infoBox.id = 'infoBox_' + index;
         infoBox.className = 'info-box';
         div.appendChild(infoBox);

         container.appendChild(div);

         // Calcula as cores: a barra com o menor valor em chart.data ficará em vermelho
         var minVal = Math.min.apply(null, chart.data);
         var backgroundColors = chart.data.map(function(val) {
              return (val === minVal) ? 'rgba(255, 99, 132, 0.2)' : 'rgba(54, 162, 235, 0.2)';
         });
         var borderColors = chart.data.map(function(val) {
              return (val === minVal) ? 'rgba(255, 99, 132, 1)' : 'rgba(54, 162, 235, 1)';
         });

         // Cria o gráfico de barras com Chart.js e define um callback para o clique
         var ctx = canvas.getContext('2d');
         var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                  labels: chart.labels,
                  datasets: [{
                      label: 'Instance Total MakeSpan',
                      data: chart.data,
                      backgroundColor: backgroundColors,
                      borderColor: borderColors,
                      borderWidth: 1
                  }]
              },
              options: {
                  scales: {
                      y: {
                          beginAtZero: true
                      }
                  },
                  onClick: function(evt, activeElements) {
                      if(activeElements.length > 0) {
                          var idx = activeElements[0].index;
                          var info = chart.tooltips[idx];
                          // Atualiza e exibe a info box com as informações detalhadas
                          var infoBox = document.getElementById('infoBox_' + index);
                          infoBox.innerHTML = info.replace(/\\n/g, '<br>');
                          infoBox.style.display = 'block';
                      }
                  },
                  plugins: {
                      tooltip: {
                          enabled: false // Desabilita o tooltip padrão
                      }
                  }
              }
         });
    });
  </script>
</body>
</html>
